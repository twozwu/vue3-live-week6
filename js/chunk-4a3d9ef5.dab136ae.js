(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a3d9ef5"],{"4de4":function(t,e,c){"use strict";var n=c("23e7"),o=c("b727").filter,a=c("1dde"),r=a("filter");n({target:"Array",proto:!0,forced:!r},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5990:function(t,e,c){},"5c93":function(t,e,c){"use strict";c("5990")},dbb4:function(t,e,c){var n=c("23e7"),o=c("83ab"),a=c("56ef"),r=c("fc6a"),i=c("06cf"),s=c("8418");n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,c,n=r(t),o=i.f,l=a(n),d={},b=0;while(l.length>b)c=o(n,e=l[b++]),void 0!==c&&s(d,e,c);return d}})},e439:function(t,e,c){var n=c("23e7"),o=c("d039"),a=c("fc6a"),r=c("06cf").f,i=c("83ab"),s=o((function(){r(1)})),l=!i||s;n({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(t,e){return r(a(t),e)}})},e6dc:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),o={class:"container-xxl"},a={class:"row"},r={class:"table align-middle"},i=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"圖片"),Object(n["g"])("th",null,"商品名稱"),Object(n["g"])("th",null,"價格"),Object(n["g"])("th")])],-1),s={style:{width:"200px"}},l={key:0,class:"h5"},d={key:1,class:"h6"},b={key:2,class:"h5"},u={class:"btn-group btn-group-sm"},p=Object(n["f"])(" 加到購物車 ");function O(t,e,c,O,j,g){var f=Object(n["x"])("font-awesome-icon"),h=Object(n["x"])("detailComponent");return Object(n["s"])(),Object(n["d"])("div",o,[Object(n["g"])("div",a,[Object(n["g"])("table",r,[i,Object(n["g"])("tbody",null,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(j.products,(function(e){return Object(n["s"])(),Object(n["d"])("tr",{key:e.id},[Object(n["g"])("td",s,[Object(n["g"])("div",{style:[{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(e.imageUrl,")")}]},null,4)]),Object(n["g"])("td",null,Object(n["A"])(e.title),1),Object(n["g"])("td",null,[e.price?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["d"])("div",l,Object(n["A"])(e.origin_price)+" 元",1)),e.price?(Object(n["s"])(),Object(n["d"])("del",d,"原價 "+Object(n["A"])(e.origin_price)+" 元",1)):Object(n["e"])("",!0),e.price?(Object(n["s"])(),Object(n["d"])("div",b,"現在只要 "+Object(n["A"])(e.price)+" 元",1)):Object(n["e"])("",!0)]),Object(n["g"])("td",null,[Object(n["g"])("div",u,[Object(n["g"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(t){return g.openModal("detail",e)}}," 查看更多 ",8,["onClick"]),Object(n["g"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(c){return t.$refs.detail.addToCart(e.id)}},[t.$refs.detail.loadingStatus==e.id?(Object(n["s"])(),Object(n["d"])(f,{key:0,icon:"spinner",pulse:"",class:"fas fa-spinner fa-pulse"})):Object(n["e"])("",!0),p],8,["onClick"])])])])})),128))])]),Object(n["g"])(h,{ref:"detail",product:j.tempProducts},null,8,["product"])])])}c("b64b"),c("a4d3"),c("4de4"),c("e439"),c("159b"),c("dbb4");function j(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}function g(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,n)}return c}function f(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?g(Object(c),!0).forEach((function(e){j(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):g(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}c("99af"),c("e01a");var h={class:"modal fade",id:"detailComponent",tabindex:"-1",role:"dialog","aria-labelledby":"detailComponentLabel","aria-hidden":"true",ref:"modal"},m={class:"modal-dialog modal-xl",role:"document"},y={class:"modal-content border-0"},v={class:"modal-header bg-dark text-white"},w={class:"modal-title",id:"exampleModalLabel"},k=Object(n["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),P={class:"modal-body"},x={class:"row"},C={class:"col-sm-6"},A={class:"col-sm-6"},S={class:"badge bg-primary rounded-pill"},q={key:0,class:"h5"},D={key:1,class:"h6"},U={key:2,class:"h5"},M={class:"input-group d-flex align-items-center"},_=Object(n["g"])("label",{for:"qty",class:""},"數量：",-1),$=Object(n["f"])("加入購物車 ");function E(t,e,c,o,a,r){var i=Object(n["x"])("font-awesome-icon");return Object(n["s"])(),Object(n["d"])("div",h,[Object(n["g"])("div",m,[Object(n["g"])("div",y,[Object(n["g"])("div",v,[Object(n["g"])("h5",w,[Object(n["g"])("span",null,Object(n["A"])(c.product.title),1)]),k]),Object(n["g"])("div",P,[Object(n["g"])("div",x,[Object(n["g"])("div",C,[Object(n["g"])("img",{class:"img-fluid",src:c.product.imageUrl,alt:""},null,8,["src"])]),Object(n["g"])("div",A,[Object(n["g"])("span",S,Object(n["A"])(c.product.category),1),Object(n["g"])("p",null,"商品描述："+Object(n["A"])(c.product.description),1),Object(n["g"])("p",null,"商品內容："+Object(n["A"])(c.product.content),1),c.product.price?Object(n["e"])("",!0):(Object(n["s"])(),Object(n["d"])("div",q,Object(n["A"])(c.product.origin_price)+" 元",1)),c.product.price?(Object(n["s"])(),Object(n["d"])("del",D,"原價 "+Object(n["A"])(c.product.origin_price)+" 元",1)):Object(n["e"])("",!0),c.product.price?(Object(n["s"])(),Object(n["d"])("div",U,"現在只要 "+Object(n["A"])(c.product.price)+" 元",1)):Object(n["e"])("",!0),Object(n["g"])("div",null,[Object(n["g"])("div",M,[_,Object(n["I"])(Object(n["g"])("input",{type:"number",class:"form-control",id:"qty","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.qty=t}),min:"1",placeholder:"數量"},null,512),[[n["E"],a.qty,void 0,{number:!0}]]),Object(n["g"])("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=function(t){return r.addToCart(c.product.id,a.qty)})},[a.loadingStatus==c.product.id?(Object(n["s"])(),Object(n["d"])(i,{key:0,icon:"spinner",pulse:"",class:"fas fa-spinner fa-pulse"})):Object(n["e"])("",!0),$])])])])])])])])],512)}var T=c("7c2b"),I=c.n(T),J={props:["product"],data:function(){return{apiUrl:"https://vue3-course-api.hexschool.io",apiPath:"onedog",qty:1,loadingStatus:"",modal:""}},methods:{addToCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingStatus=t;var n={product_id:t,qty:c},o="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart");this.axios.post(o,{data:n}).then((function(t){t.data.success?(alert(t.data.message),e.loadingStatus="",e.emitter.emit("navGetCart")):(alert(t.data.message),e.loadingStatus="")})).catch((function(t){return console.log(t)}))},openModal:function(){this.qty=1,this.modal.show()},hideModal:function(){this.modal.hide()}},mounted:function(){this.modal=new I.a(this.$refs.modal,{keyboard:!0,backdrop:!0})}};J.render=E;var L=J,z={data:function(){return{apiUrl:"https://vue3-course-api.hexschool.io",apiPath:"onedog",products:{},tempProducts:{},loadingStatus:""}},methods:{getData:function(){var t=this;this.axios.get("".concat(this.apiUrl,"/api/").concat(this.apiPath,"/products")).then((function(e){e.data.success?t.products=e.data.products:alert(e.data.message)})).catch((function(t){return console.log(t)}))},openModal:function(t,e){"detail"===t&&(this.tempProducts=f({},e),this.$refs.detail.openModal())}},mounted:function(){this.getData()},components:{detailComponent:L}};c("5c93");z.render=O;e["default"]=z}}]);
//# sourceMappingURL=chunk-4a3d9ef5.dab136ae.js.map